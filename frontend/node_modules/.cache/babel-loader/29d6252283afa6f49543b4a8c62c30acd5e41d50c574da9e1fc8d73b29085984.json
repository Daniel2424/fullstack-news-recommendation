{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\druzh\\\\Desktop\\\\forTest\\\\react_spring\\\\frontend\\\\src\\\\components\\\\magazines\\\\Magazine.js\";\nimport * as React from \"react\";\nimport { request, setAuthHeader } from \"../../helpers/axios_helper\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Magazine extends React.Component {\n  constructor(props) {\n    super(props);\n    this.addMagazine = id => {\n      request(\"GET\", \"/addMagazine/\" + id, {}).then(response => {\n        console.log(response.data);\n        // Показать сообщение о добавлении в избранное\n        this.setState({\n          isAddedToFavorites: true\n        });\n\n        // Скрыть сообщение через 1 секунду\n        setTimeout(() => {\n          this.setState({\n            isAddedToFavorites: false\n          });\n        }, 1000);\n      }).catch(error => {\n        if (error.response.status === 401) {\n          setAuthHeader(null);\n        } else {\n          this.setState({\n            data: error.response.code\n          });\n        }\n      });\n    };\n    this.state = {\n      data: [],\n      isAddedToFavorites: false\n    };\n  }\n  componentDidMount() {\n    const id = this.props.id;\n    request(\"GET\", \"/magazine/\" + id, {}).then(response => {\n      this.setState({\n        data: response.data\n      });\n    }).catch(error => {\n      if (error.response.status === 401) {\n        setAuthHeader(null);\n      } else {\n        this.setState({\n          data: error.response.code\n        });\n      }\n    });\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: \"100px\"\n      },\n      className: \"row justify-content-md-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          style: {\n            width: \"50rem\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"card-title\",\n              children: \"\\u0421\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0430 \\u0416\\u0443\\u0440\\u043D\\u0430\\u043B\\u0430:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                children: [\" \", this.state.data.title]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 12\n              }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                width: 400,\n                height: 500,\n                src: process.env.PUBLIC_URL + this.state.data.img,\n                alt: \"\\u041A\\u0430\\u0440\\u0442\\u0438\\u043D\\u043A\\u0430\",\n                style: {\n                  border: \"2px solid black\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 12\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\" \", this.state.data.description]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                onClick: () => this.addMagazine(this.state.data.id),\n                style: {\n                  textDecoration: 'underline',\n                  cursor: 'pointer'\n                },\n                children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0432 \\u0438\\u0437\\u0431\\u0440\\u0430\\u043D\\u043D\\u043E\\u0435\"\n              }, this.state.data.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 45\n              }, this), this.state.isAddedToFavorites && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"\\u0422\\u043E\\u0432\\u0430\\u0440 \\u0434\\u043E\\u0431\\u0430\\u0432\\u043B\\u0435\\u043D \\u0432 \\u0438\\u0437\\u0431\\u0440\\u0430\\u043D\\u043D\\u043E\\u0435\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 247\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this);\n  }\n}","map":{"version":3,"names":["React","request","setAuthHeader","Magazine","Component","constructor","props","addMagazine","id","then","response","console","log","data","setState","isAddedToFavorites","setTimeout","catch","error","status","code","state","componentDidMount","render","marginBottom","width","title","process","env","PUBLIC_URL","img","border","description","textDecoration","cursor"],"sources":["C:/Users/druzh/Desktop/forTest/react_spring/frontend/src/components/magazines/Magazine.js"],"sourcesContent":["import * as React from \"react\";\r\n\r\nimport { request, setAuthHeader } from \"../../helpers/axios_helper\";\r\n\r\nexport default class Magazine extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            data: [],\r\n\t\t\tisAddedToFavorites: false,\r\n        };\r\n\t\t\r\n    }\r\n\r\n    componentDidMount() {\r\n\t\tconst  id  = this.props.id;\r\n        request(\"GET\", \"/magazine/\" + id, {})\r\n            .then((response) => {\r\n                this.setState({ data: response.data });\r\n            })\r\n            .catch((error) => {\r\n                if (error.response.status === 401) {\r\n                    setAuthHeader(null);\r\n                } else {\r\n                    this.setState({ data: error.response.code });\r\n                }\r\n            });\r\n    }\r\n\taddMagazine = (id)  =>{\r\n        request(\"GET\", \"/addMagazine/\"+ id, {})\r\n            .then((response) => {\r\n                console.log(response.data);\r\n\t\t\t\t// Показать сообщение о добавлении в избранное\r\n\t\t\t\tthis.setState({ isAddedToFavorites: true });\r\n\r\n\t\t\t\t// Скрыть сообщение через 1 секунду\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t  this.setState({ isAddedToFavorites: false });\r\n\t\t\t\t}, 1000);\r\n            })\r\n            .catch((error) => {\r\n                if (error.response.status === 401) {\r\n                    setAuthHeader(null);\r\n                } else {\r\n                    this.setState({ data: error.response.code });\r\n                }\r\n            });\r\n    };\r\n\t\r\n\r\n    render() {\r\n        return (\r\n            <div style={{marginBottom: \"100px\"}} className=\"row justify-content-md-center\">\r\n                <div className=\"col-4\">\r\n                    <div className=\"card\" style={{ width: \"50rem\" }}>\r\n                        <div className=\"card-body\">\r\n                            <h5 className=\"card-title\">\r\n                                Страница Журнала:\r\n                            </h5>\r\n                            \r\n                                        <div>\r\n                                            \r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<li> {this.state.data.title}</li>\r\n\t\t\t\t\t\t\t\t\t\t\t<img width={400} height={500} src={process.env.PUBLIC_URL + this.state.data.img} alt=\"Картинка\" style={{ border: \"2px solid black\" }} />\r\n                                            <div> {this.state.data.description}</div>                                       \r\n                                            <div key={this.state.data.id} onClick={() => this.addMagazine(this.state.data.id)} style={{ textDecoration: 'underline', cursor: 'pointer' }}>Добавить в избранное</div>{this.state.isAddedToFavorites && <div>Товар добавлен в избранное</div>}\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n                                            \r\n                                        </div>\r\n                                    \r\n                            \r\n                        </div>\r\n                    </div>\r\n                    <div></div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}